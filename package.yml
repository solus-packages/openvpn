name       : openvpn
version    : 2.5.9
release    : 25
source     :
    - https://github.com/OpenVPN/openvpn/archive/v2.5.9.tar.gz : d3d005b59b4ee370d41ccf5a3097f7829aa526f9cdd8ccf8118338296c4dc6c0
license    :
    - GPL-2.0-only
    - BSD-4-Clause
    - OpenSSL
    - Zlib
component  : network.clients
homepage   : https://openvpn.net/community/
summary    : OpenVPN Client
description: |
    An easy-to-use, robust, and highly configurable VPN (Virtual Private Network)
builddeps  :
    - pkgconfig(liblz4)
    - pkgconfig(libpkcs11-helper-1)
    - pkgconfig(lzo2)
    - python-docutils
setup      : |
    %reconfigure --enable-async-push \
                 --enable-pkcs11 \
                 --enable-systemd \
                 --with-crypto-library=openssl
build      : |
    %make
install    : |
    %make_install

    rm -rf $installdir/usr/share/doc
check      : |
    %make check

    # OpenVPN self-test (crypto)
    ./src/openvpn/openvpn --genkey --secret key
    ./src/openvpn/openvpn --test-crypto --secret key
